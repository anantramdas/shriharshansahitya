<html>
	<head>
		<title>HTML Game</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="js/jquery.min.js"></script>
		<style type="text/css">
			html, body {
				margin: 0;
				padding: 0;
			}
			@font-face {
			  font-family: kurale;
			  src: url(fonts/Kurale.ttf);
			}
			#frame {
				width: 100%;
				height: 100%;
				background: grey;
				font-family: kurale;
			}
			.node, #score {
				position: fixed;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 22px;
				font-weight: 500px;
				width: 50px;
				height: 50px;
				border-radius: 50%;
  				background-repeat: no-repeat;
				cursor: pointer;
			}
			.node {
				background: radial-gradient(#fceabb, #f8b500);
				animation: goTop linear forwards;
			}
			#score {
				background: radial-gradient(circle 80px, #56ab2f, #a8e063);
				right: 3%;
				top: 30px;
				color: white;
			}
			@keyframes goTop {
				/*from {background-color: red;}*/
				to {top: -100px;}
			}
		</style>
		<script type="text/javascript">
			var nid = 0, score = 0;
			var gems = ['सी', 'ता', 'रा', 'म'];
			var answer = '';
			function onBust(th, index) {
				if (index == 0) {
					answer = '';
				}
				answer += index;
				if (answer.length > 3) {
					if (answer == '0123') {
						score++;
						$("#score").html(score);
					}
					answer = '';
				}
				$(th).remove();
			}
			function createNode() {
				var half = $(window).height() / 2;
				var left = Math.floor((Math.random() * ($(window).width() - 50)));
				var top = half + Math.floor((Math.random() * half));
				var duration = Math.max(10 * top/$(window).height(), 1);
				var index = nid%4;
				$('#frame').append( `<div id='node${nid}' class='node' onclick='onBust(this, ${index})' style='animation-duration:${duration}s;top:${top}px;left:${left}px;' z-index=${nid}>${gems[index]}</div>` );
				setTimeout(removeMe,duration * 1000, nid);
				nid++;
			}
			function removeMe(nodeId) {
				$('#node'+nodeId).remove();
			}
			$(document).ready(function(){
				setInterval(createNode, 1200);
			});
		</script>
	</head>
	<body>
		<div id="frame">
		</div>
		<div id="score" z-index="100000">
			0
		</div>
	</body>
</html>